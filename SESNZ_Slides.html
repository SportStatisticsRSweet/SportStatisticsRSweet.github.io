<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>SESNZ_Slides.knit</title>
    <meta charset="utf-8" />
    <script src="SESNZ_Slides_files/header-attrs/header-attrs.js"></script>
    <link href="SESNZ_Slides_files/remark-css/default.css" rel="stylesheet" />
    <link href="SESNZ_Slides_files/tachyons/tachyons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="VictoriaUniversity.css" type="text/css" />
    <link rel="stylesheet" href="VictoriaUniversity-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: right, top, inverse
background-image: url(Images/Analytics.jpg)
background-size: cover
## An interactive workshop on analysing and visualising sports data in R


### Alice Sweeting, PhD  

---
class: right, bottom, inverse
background-image: url(Images/Basketball.jpg)
background-size: cover
## In This Workshop We Will Cover...

--

Overview of Analytics and Tools for Analysis

&lt;br&gt;
--

Introduction to R and RStudio

&lt;br&gt;
--

Interactive Example on Analysing and Visualising Performance Data

&lt;br&gt;

---
class: right, bottom, inverse
background-image: url(Images/Basketball.jpg)
background-size: cover
## You Can Access These Slides:

##bit.ly/SESNZ_Slides

---
class: center, bottom, inverse
background-image: url(Images/Marathon.jpg)
background-size: cover


.large[
First, download R for Windows or Mac: &lt;br&gt; https://cran.rstudio.com
]
--
.large[
Next, download RStudio Desktop: &lt;br&gt; https://posit.co/download/rstudio-desktop
]


---
class: center, top

# What program(s) do you use to to analyse, visualise &amp; report on sport science data?

--

&lt;img src="https://pbs.twimg.com/media/EUaL5vYUwAESgMC?format=png&amp;name=900x900" align="middle" width="80%"/&gt;

---
class: bottom, left, inverse
background-image: url(https://cdn.pixabay.com/photo/2016/10/26/12/48/excel-1771393_1280.jpg)
background-size: cover 

---

class: center, top

# Advantages of Excel for Data Analysis

.left[
* Easy to download, install, open.
]

--
.left[
* Interactive, (fairly) friendly to save, send, open and edit
]
--
.left[
* Point and click to enter data, create figures, calculate math
]
--
.left[
* Many tabs = data entry, analysis, visualisation, (dashboard) reporting
]
--
.left[
* Can even run (basic to advanced) statistics! See [Analysis ToolPak](https://support.microsoft.com/en-us/office/use-the-analysis-toolpak-to-perform-complex-data-analysis-6c67ccf0-f4a9-487c-8dec-bdb5a2cefab6)
]

???
* This includes ANOVAS, regression, exponential smoothing, moving averages, t-tests etc


--
.left[
* Help is never far away...
]
 
&lt;img src="https://media.giphy.com/media/eCz0zwSl7qxB6/giphy.gif" width="40%", align="middle"/&gt;

---

class: center, top

# But before long...

&lt;img src="https://media.giphy.com/media/l1IY5NRhxdCJYxsmA/giphy.gif" align="middle" width="85%%"/&gt;

---

class: center, top

# We end up here!

&lt;img src="https://raw.githubusercontent.com/SportStatisticsRSweet/WCSF_WorkshopInR/master/Figures/ExcelStoppedWorking.png" align="middle" width="75%"/&gt;

.footnote[
Credit: [**Dr Jacquie Tran, ESSA Forum, 2019**](https://github.com/jacquietran/2019_essa_forum)
]

---
class: left, top
.center[
# If You Do Use A Spreadsheet Program for Data Analysis...
]
* Ensure you are consistent
???
* This includes coding categorical data the same (so male and female, not male and m, female and f)
* Use a consistent code for missing data, rather than leaving it blank AND highlighting the cell AND/OR writing NA
* Be careful with extra white spaces, mixing date types and creating easy to interpret row/ column headers
--
&lt;br&gt;
&lt;br&gt;
* Put only one thing in a cell
???
* Put one piece of data in a cell
* Try and use the same units in columns
* Don't merge cells (looks pretty) but really isn't very functional &amp; very messy when exporting
--
&lt;br&gt;
&lt;br&gt;
* Treat raw data as *exactly* that, raw data!
???
* Keep raw data separate, preferably in another document appropriately labelled
* If you do keep raw data in the same workbook, put it in another tab and lock the tab from editing



???
* A single big rectangle with rows corresponding to subjects and columns corresponding to variables.
* The first row should contain variable names, and please do not use more than one row for the variable names.
* Sometimes you need to make different Excel files, to fit tidy data
* Often, people have bits of data sprinkled around, including summary statistics next to their raw data!

---
class: center
&lt;img src="https://www.tandfonline.com/na101/home/literatum/publisher/tandf/journals/content/utas20/2018/utas20.v072.i01/00031305.2017.1375989/20180424-01/images/large/utas_a_1375989_f0005_b.jpeg" align="middle" width="80%"/&gt;
&lt;br&gt;
&lt;br&gt;
.small[
[Karl W. Broman &amp; Kara H. Woo (2018) Data Organization in Spreadsheets, The American Statistician, 72:1, 2-10, DOI: 10.1080/00031305.2017.1375989](https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989)
]

---
class: center

&lt;img src="https://www.openscapes.org/img/blog/tidydata/tidydata_1.jpg" align="middle" width="90%"/&gt;
&lt;br&gt;
&lt;br&gt;
.small[
Illustration from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst
]

---
class: center

&lt;img src="https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/tidydata_2.jpg" align="middle" width="80%"/&gt;
&lt;br&gt;
&lt;br&gt;
.small[
Illustration from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst
]
---
class: left, top
.center[
# If You Do Use A Spreadsheet Program for Data Analysis
]
* Ensure you are consistent
&lt;br&gt;
&lt;br&gt;
* Put only one thing in a cell
&lt;br&gt;
&lt;br&gt;
* Treat raw data as *exactly* that, raw data!
&lt;br&gt;
&lt;br&gt;
* Try and keep data in a rectangle, tidy fashion
&lt;br&gt;
&lt;br&gt;
* Create a data dictionary

???
- This is a seperate file that explains what all the variables are within your data set
- This also includes the measurement units (etc cm versus m)
- Ideally, you accompany this with another file that includes information about your data and workflow

---
class: center
&lt;br&gt;
&lt;img src="https://www.tandfonline.com/na101/home/literatum/publisher/tandf/journals/content/utas20/2018/utas20.v072.i01/00031305.2017.1375989/20180424-01/images/large/utas_a_1375989_f0009_b.jpeg" align="middle" width="90%"/&gt;
&lt;br&gt;
&lt;br&gt;
.small[
[Karl W. Broman &amp; Kara H. Woo (2018) Data Organization in Spreadsheets, The American Statistician, 72:1, 2-10, DOI: 10.1080/00031305.2017.1375989](https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989)
]

---
class: left, top
.center[
# If You Do Use A Spreadsheet Program for Data Analysis
]
.pull-left[
* Ensure you are consistent
&lt;br&gt;
&lt;br&gt;
* Put only one thing in a cell
&lt;br&gt;
&lt;br&gt;
* Treat raw data as *exactly* that, raw data!
&lt;br&gt;
&lt;br&gt;
* Try and keep data in a rectangle, tidy fashion
&lt;br&gt;
&lt;br&gt;
* Create a data dictionary
&lt;br&gt;
&lt;br&gt;
* Create backups (saved in plain text files)
&lt;br&gt;
&lt;br&gt;
.small[
[Karl W. Broman &amp; Kara H. Woo (2018) Data Organization in Spreadsheets, The American Statistician, 72:1, 2-10, DOI: 10.1080/00031305.2017.1375989](https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989)
]
]
--
.pull-right[&lt;img src="https://www.openscapes.org/img/blog/tidydata/tidydata_7.jpg" width="100%"/&gt;
&lt;br&gt;
.small[
Illustration from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst
]]


---

class: center, top

# Working with Data in Analytics

.left[
* Abundance of data, from varying technologies at differing sample rates, stored in multiple formats.
]
--
.left[
* Large datasets, that often need cleaning and merging, which is likely performed manually.
]
--
&lt;img src="https://www.openscapes.org/img/blog/tidydata/tidydata_3.jpg" align="middle" width="60%"/&gt;
&lt;br&gt;
.small[
Illustration from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst
]

???
* This may even include for yourself, so you know what you did (and workflow) in one week, month, years time


---
class: center, top
# Programming Languages
.center[
&lt;img src="https://www.openscapes.org/img/blog/tidydata/tidydata_5.jpg" align="middle" width="70%"/&gt;
]
&lt;br&gt;
.small[
Illustration from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst
]

???
* Easier for automation &amp; iteration!
* Create a project, run analysis, create a dashboard and/ or report 
* Automate reporting processes in .pdf or .html output




---
class: center, top
# Programming for Analytics &amp; Performance Sport

&lt;img src="https://www.python.org/static/community_logos/python-logo-inkscape.svg" align="middle" width="120%"/&gt;

&lt;br&gt;
.small[Logo from Python.org]

???
- Python is widely used by data scientists and engineers around the world. Also a popular introductory language
- Code is fairly straightforward to read and supported by open-source communities, with suggestion encouraged for improvements to the software
- Great at using data dictionaries to drive analysis. For example, creating a data dictionary of skilled actions in Australian Football and looking up skilled actions in an untidy, messy format.
- Python is free, open-source and has fantastic data visualisation capabilities
- You don't have to be a programmer to program in Python 
- However, the error messages can be really annoying to understand, particuarly when dealing with large volumes of code/ data

---
class: center, top
# Programming for Analytics &amp; Performance Sport

&lt;img src="https://www.r-project.org/logo/Rlogo.svg" align="middle" width="50%"/&gt;

.small[Logo from R Project.org]

???
- R, like Python, is free and open-source. 
- Relies on the community to create, push and debug packages that can handle all parts of the data import, tidying, analysing, visualising &amp; reporting process
- Developed with statistics in mind, which it does super well.
- Has a whole host of tools to deal with the data pipeline, called the tidyverse
- Highly flexible software that can run on any operating system
- RStudio has a whole host of features, including GitHub integration and the ability to run Python code inside of R
- Personally, I found R easier to get started in and the community very welcoming to help with debugging. Therefore, I think it is great to use for movement science
- I still use Python for really specific things like above and work with many colleagues who use Python

---
class: center, top

&lt;img src="https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/r_rollercoaster.png" align="middle"/&gt;


---
class: center, top
# Other Tools for Analytics &amp; Performance Sport

.pull-left[
&lt;img src="https://www.tableau.com/sites/default/files/pages/tableau_cmyk_2015.png" /&gt;
&lt;br&gt;
.small[Logo from Tableau]
]
.pull-right[&lt;img src="https://dotnet.microsoft.com/blob-assets/images/customers/power-bi.png"/&gt;
&lt;br&gt;
.small[Logo from Microsoft]
]

&lt;img src="https://miro.medium.com/max/1200/1*Oe7xavCj5qCBzwTbLDbPTg.jpeg" align="middle" width="40%"/&gt;
.small[Logo from Medium]


???
- Structured Query Language is a domain-specific language used in programming and designed for managing data held in a relational database management system.
- Accesses many records with one single command and eliminates the need to specify how to reach the record
- Contains many statements, that focus on querying, definitions, data control and manipulation
- These elements include clauses, expressions, predicates, queries and statements
- Insignificant whitespace is generally ignored in SQL
- Used for interacting with a database for extracting data, updating data, replacing data, creating data
- Typically used when you have data hosted in servers, that are large 
- I've used SQL queries on a data.frame, that has been extracted into R. There are a number of different packages that help with this.

---
class: left, bottom, inverse
background-image: url(Images/Surfing.jpg)
background-size: cover
# Do you have any questions?


---
class: left, top, inverse
background-image: url(Images/Barbell.jpg)
background-size: cover
## Interactive Exercise in R

---
class: bottom, left, inverse
background-image: url(https://cdn.pixabay.com/photo/2014/10/14/20/24/the-ball-488714_960_720.jpg)
background-size: cover 

## Visit: bit.ly/SESNZ_ExampleData &lt;br&gt; to download

---
class: center, top
background-image: url(Images/RStudio.jpeg)
background-size: cover

---
class: center, top
background-image: url(Images/RStudio1.jpeg)
background-size: cover

---
class: center, top
background-image: url(Images/RStudio2.jpeg)
background-size: cover

---
class: center, top
background-image: url(Images/RStudio3.jpeg)
background-size: cover

---
class: center, top
background-image: url(Images/RStudio4.jpeg)
background-size: cover

---
class: left, top
.center[
# Setting up the R Workspace
]


1. Ensure R and RStudio are downloaded. 
&lt;br&gt;
&lt;br&gt;
--

2. Create a new project in RStudio: `File -&gt; New Project -&gt; New Directory -&gt; New Project`. 
&lt;br&gt;
.center[
&lt;img src="https://raw.githubusercontent.com/SportStatisticsRSweet/WCSF_WorkshopInR/master/Figures/CreateNewProject.png" width="35%", align="middle"/&gt;
]
--


* Using this approach will contain all your files, scripts and data in one location


* Avoids having multiple .R and .RData files scattered within and across multiple folders!
---

class: left, top
.center[
# Setting up the R Workspace (cont.)
]


* Create a folder within your new project (either via RStudio or manually) named "Data"


--

* Next, copy the example data (.xlsx) downloaded file into this "Data" folder


--
 

* Ensure the packages below are installed or up-to-date:


```r
# Create a list of the packages required
IntroToRPackages &lt;- c(
    'readxl',
    'tidyverse', 
    'viridis')
# Install listed packages
install.packages(IntroToRPackages)
```
--

```r
# Load the packages so we can use them!
library(readxl)
library(tidyverse)
library(viridis)
```

---
class: center, top
background-image: url(https://www.tidyverse.org/images/tidyverse-default.png)
background-size: cover

---
class: left, top
.center[
# Importing Example Data   
]

Import our example data, using the `readxl` package, which loads Excel (.xlsx) data into R


```r
# Load "RawData" sheet from our Excel file into R 
RawData  &lt;- read_excel("Data/ExampleAthleteData.xlsx", sheet = "RawData")
```

---
class: left, top
.center[
  # Assessing Example Data   
]

Look at the underlying data structure in R


```r
# Assess the structure of imported data
str(RawData)
```

```
## tibble [249 × 4] (S3: tbl_df/tbl/data.frame)
##  $ Date           : POSIXct[1:249], format: "2017-12-04" "2017-12-07" ...
##  $ Athlete        : chr [1:249] "Gus Smith" "Gus Smith" "Gus Smith" "Gus Smith" ...
##  $ Left Leg Force : num [1:249] 294 310 349 433 303 474 345 325 358 366 ...
##  $ Right Leg Force: num [1:249] 297 315 360 412 307 457 354 336 395 373 ...
```

--

 &lt;br&gt;
Turn our imported data into a [tibble](https://tibble.tidyverse.org/) - also known in the tidyverse as a "lazy" data.frame!


```r
# Create a tibble from our existing object named "Raw Data"
RawData &lt;- as_tibble(RawData)
```

---
class: left, top
.center[
# Assessing Example Data (cont.)   
]


```r
# Lets inspect our tibble!
RawData 
```

```
## # A tibble: 249 × 4
##    Date                Athlete   `Left Leg Force` `Right Leg Force`
##    &lt;dttm&gt;              &lt;chr&gt;                &lt;dbl&gt;             &lt;dbl&gt;
##  1 2017-12-04 00:00:00 Gus Smith              294               297
##  2 2017-12-07 00:00:00 Gus Smith              310               315
##  3 2017-12-09 00:00:00 Gus Smith              349               360
##  4 2017-12-09 00:00:00 Gus Smith              433               412
##  5 2017-12-11 00:00:00 Gus Smith              303               307
##  6 2017-12-11 00:00:00 Gus Smith              474               457
##  7 2017-12-14 00:00:00 Gus Smith              345               354
##  8 2017-12-16 00:00:00 Gus Smith              325               336
##  9 2017-12-18 00:00:00 Gus Smith              358               395
## 10 2018-01-09 00:00:00 Gus Smith              366               373
## # ℹ 239 more rows
```

--
&lt;br&gt;
.center[
By default, a tibble will only print the first 10 rows, making it easier to work with large data in the console.
]

---
class: left, top
.center[
# Assessing Example Data (cont.)   
]

Extract, or subset, by a column name and examine the first x entries
--

```r
# Call out the first five entries of the "Athlete" column
head(RawData$Athlete, 5) 
```

```
## [1] "Gus Smith" "Gus Smith" "Gus Smith" "Gus Smith" "Gus Smith"
```

--
&lt;br&gt;

```r
# Call out the first eight entries of the "Athlete" column
head(RawData$Athlete, 8) 
```

```
## [1] "Gus Smith" "Gus Smith" "Gus Smith" "Gus Smith" "Gus Smith" "Gus Smith"
## [7] "Gus Smith" "Gus Smith"
```

--
&lt;br&gt;

```r
# Call out the first ten entries of the "Left Leg Force" column
head(RawData$`Left Leg Force`, 10) 
```

```
##  [1] 294 310 349 433 303 474 345 325 358 366
```

---
class: left, top
.center[
# Tidying Example Data    
]
&lt;br&gt;
.center[ 
&lt;img src="https://d33wubrfki0l68.cloudfront.net/571b056757d68e6df81a3e3853f54d3c76ad6efc/32d37/diagrams/data-science.png" width="70%", align="middle"/&gt;
.footnote[
Image Source: [**R for Data Science**](https://r4ds.had.co.nz/introduction.html)
]
]
--
&lt;br&gt;
&lt;br&gt;
.center[
**Changing column names in R**
]

---
class: left, top
.center[
# Tidying Example Data (cont.)   
]


```r
# Rename columns - make them tidier
colnames(RawData) &lt;- c("Date", "Athlete", "LeftLeg", "RightLeg") 
```
--

```r
# Inspect tibble, with new column names...
RawData 
```

```
## # A tibble: 249 × 4
##    Date                Athlete   LeftLeg RightLeg
##    &lt;dttm&gt;              &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;
##  1 2017-12-04 00:00:00 Gus Smith     294      297
##  2 2017-12-07 00:00:00 Gus Smith     310      315
##  3 2017-12-09 00:00:00 Gus Smith     349      360
##  4 2017-12-09 00:00:00 Gus Smith     433      412
##  5 2017-12-11 00:00:00 Gus Smith     303      307
##  6 2017-12-11 00:00:00 Gus Smith     474      457
##  7 2017-12-14 00:00:00 Gus Smith     345      354
##  8 2017-12-16 00:00:00 Gus Smith     325      336
##  9 2017-12-18 00:00:00 Gus Smith     358      395
## 10 2018-01-09 00:00:00 Gus Smith     366      373
## # ℹ 239 more rows
```

---
class: left, top
.center[
# A Common Untidy Data Problem in Sport Science 
]
Problem = One variable is spread across multiple columns. Difficult to analyse with R!
  
--
  
Example data problem = One variable (force in N) is spread across multiple (Left and Right) columns.

--
  

```r
# Closer inspection of data frame, to demonstrate "wide" format
RawData 
```

```
## # A tibble: 249 × 4
##    Date                Athlete   LeftLeg RightLeg
##    &lt;dttm&gt;              &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;
##  1 2017-12-04 00:00:00 Gus Smith     294      297
##  2 2017-12-07 00:00:00 Gus Smith     310      315
##  3 2017-12-09 00:00:00 Gus Smith     349      360
##  4 2017-12-09 00:00:00 Gus Smith     433      412
##  5 2017-12-11 00:00:00 Gus Smith     303      307
##  6 2017-12-11 00:00:00 Gus Smith     474      457
##  7 2017-12-14 00:00:00 Gus Smith     345      354
##  8 2017-12-16 00:00:00 Gus Smith     325      336
##  9 2017-12-18 00:00:00 Gus Smith     358      395
## 10 2018-01-09 00:00:00 Gus Smith     366      373
## # ℹ 239 more rows
```


---
class: left, top
.center[
# A Common Untidy Data Problem in Sport Science 
]

Example data problem = One variable (force in N) is spread across multiple (Left and Right) columns.

--
  
Solution = pivot (using lovely `tidyverse` tools) from many columns to many rows, and less columns!
  

```r
# Using the tidyverse, we move from a "wide" to a "long" format
RawData &lt;- RawData %&gt;% 
pivot_longer(LeftLeg:RightLeg, names_to = "Leg", values_to = "Force")
```

--
  

```r
# Observe our pivoting!
RawData 
```

```
## # A tibble: 498 × 4
##    Date                Athlete   Leg      Force
##    &lt;dttm&gt;              &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;
##  1 2017-12-04 00:00:00 Gus Smith LeftLeg    294
##  2 2017-12-04 00:00:00 Gus Smith RightLeg   297
##  3 2017-12-07 00:00:00 Gus Smith LeftLeg    310
##  4 2017-12-07 00:00:00 Gus Smith RightLeg   315
##  5 2017-12-09 00:00:00 Gus Smith LeftLeg    349
##  6 2017-12-09 00:00:00 Gus Smith RightLeg   360
##  7 2017-12-09 00:00:00 Gus Smith LeftLeg    433
##  8 2017-12-09 00:00:00 Gus Smith RightLeg   412
##  9 2017-12-11 00:00:00 Gus Smith LeftLeg    303
## 10 2017-12-11 00:00:00 Gus Smith RightLeg   307
## # ℹ 488 more rows
```

---
class: center, top
.center[
# Transforming Example Data    
]


&lt;img src="https://d33wubrfki0l68.cloudfront.net/571b056757d68e6df81a3e3853f54d3c76ad6efc/32d37/diagrams/data-science.png" width="70%", align="middle"/&gt;
  .footnote[
    Image Source: [**R for Data Science**](https://r4ds.had.co.nz/introduction.html)
  ]
--
  
&lt;br&gt;
  **How do I quickly perform summary statistics in R, as I would in Excel?**
  

---
class: left, top
.center[
# Transforming Example Data    
]


Example data problem = I want to calculate the mean and SD of Force, for all athletes and both legs.

--

Solution = group by (again using lovely `tidyverse` tools) each athlete and give output for both legs.


```r
# Perform group by analysis - mean &amp; SD
RawData %&gt;% 
  group_by(Athlete, Leg) %&gt;% 
  summarise(Mean = mean(Force),
            SD = sd(Force))
```
--

```
## # A tibble: 10 × 4
## # Groups:   Athlete [5]
##    Athlete      Leg       Mean    SD
##    &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1 Bobby Lewis  LeftLeg   464.  29.1
##  2 Bobby Lewis  RightLeg  466.  26.4
##  3 Dudley Jones LeftLeg   329.  26.9
##  4 Dudley Jones RightLeg  340.  27.9
##  5 Gus Smith    LeftLeg   358.  43.5
##  6 Gus Smith    RightLeg  371.  46.1
##  7 Hudson Lee   LeftLeg   410.  29.7
##  8 Hudson Lee   RightLeg  430.  29.6
##  9 Tom Rivers   LeftLeg   503.  30.8
## 10 Tom Rivers   RightLeg  504.  30.9
```

---
class: left, top
.center[
# Transforming Example Data    
]


Example data problem = I want to create a new column, whereby Force is expressed relative (N/ kg).

--

Solution = mutate (again using lovely `tidyverse` tools) to create a new column for relative force values.


```r
# Make Force data relative, for simplicity we assume all athletes are 80kg
RawData %&gt;% 
  mutate(RelativeForce = Force/80)
```
--

```
## # A tibble: 498 × 5
##    Date                Athlete   Leg      Force RelativeForce
##    &lt;dttm&gt;              &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;         &lt;dbl&gt;
##  1 2017-12-04 00:00:00 Gus Smith LeftLeg    294          3.68
##  2 2017-12-04 00:00:00 Gus Smith RightLeg   297          3.71
##  3 2017-12-07 00:00:00 Gus Smith LeftLeg    310          3.88
##  4 2017-12-07 00:00:00 Gus Smith RightLeg   315          3.94
##  5 2017-12-09 00:00:00 Gus Smith LeftLeg    349          4.36
##  6 2017-12-09 00:00:00 Gus Smith RightLeg   360          4.5 
##  7 2017-12-09 00:00:00 Gus Smith LeftLeg    433          5.41
##  8 2017-12-09 00:00:00 Gus Smith RightLeg   412          5.15
##  9 2017-12-11 00:00:00 Gus Smith LeftLeg    303          3.79
## 10 2017-12-11 00:00:00 Gus Smith RightLeg   307          3.84
## # ℹ 488 more rows
```


---
class: top, left, inverse
background-image: url(https://cdn.pixabay.com/photo/2016/12/05/00/28/san-francisco-1882882_960_720.jpg)
background-size: cover

# Visualising Example Data

---
class: center, top

## Visualising Example Data    

.left[
Create a simple plot of Force (N), for each athlete, using `ggplot2` package.


```r
# Create a basic plot using ggplot2
ggplot(RawData, aes(x = Athlete, y = Force)) +
  geom_point()
```
]
--
.center[
&lt;img src="SESNZ_Slides_files/figure-html/unnamed-chunk-3-1.png" width="936" /&gt;
]

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot summary stats for each athlete?
]
--
.left[

```r
# Start with our classic template
ggplot(RawData, aes(x = Leg, y = Force)) +
# Create a boxplot
  geom_boxplot() +
# Create a "wrap" by adding a new panel for each athlete and set the scales to "free" for the x-axis
facet_wrap(~Athlete, scales = "free_x")
```
]

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot summary stats for each athlete?
]
&lt;img src="SESNZ_Slides_files/figure-html/unnamed-chunk-4-1.png" width="936" /&gt;


---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot **neater** summary stats for each athlete?
]
--
.left[

```r
# Start with our classic template
ggplot(RawData, aes(x = Leg, y = Force)) +
# Create a boxplot
  geom_boxplot() +
# Add a label for the y-axis
  ylab("\n Force (N)") +
# Make the theme "classic" for ease of interpretation
  theme_classic() +
# No legend placement is needed, as we are no longer mapping to a variable 
  theme(#legend.position = "none",
# Add more white space between the panels
        panel.spacing = unit(1, "lines")) +
# Create a "wrap" by adding a new panel for each athlete and set the scales to "free" for the x-axis
  facet_wrap(~Athlete, scales = "free_x")
```
]

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot **neater** summary stats for each athlete?
]
&lt;img src="SESNZ_Slides_files/figure-html/unnamed-chunk-5-1.png" width="936" /&gt;

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot distributions for all athletes and both their legs?
]
--
.left[

```r
# Start with our classic template, but now add fill and colour mappings
ggplot(RawData, aes(Force, fill = Leg, colour = Leg)) +
# Create a boxplot
 geom_density(alpha = 0.8) +
# Add a label for the x-axis
  xlab("\n Force (N)") +
# Make the theme "classic" for ease of interpretation
  theme_classic() +
# Move our legend from the RHS of the figure to the bottom
  theme(legend.position = "bottom",
# Remove y-axis label
         axis.title.y = element_blank(),
# Add more white space between the panels
        panel.spacing = unit(1, "lines")) +
# Create a "wrap" by adding a new panel for each athlete and set the scales to "free" for the x-axis
  facet_wrap(~Athlete, scales = "free")
```
]

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot distributions for all athletes and both their legs?
]
&lt;img src="SESNZ_Slides_files/figure-html/unnamed-chunk-6-1.png" width="936" /&gt;


---
class: center, top

# Visualising Example Data (cont.)    

**However, what may be wrong with this figure?**

&lt;img src="SESNZ_Slides_files/figure-html/unnamed-chunk-7-1.png" width="936" /&gt;

---
class: top, right, inverse
background-image: url(https://cdn.pixabay.com/photo/2015/09/12/23/41/spectrum-937560_960_720.jpg)
background-size: cover

# Not Designing for Color-Vision Deficiency

---
class: center, top

# Not Designing for Color-Vision Deficiency

.left[
* A proportion population may have some form of color-vision deficiency (i.e., are colorblind). 
&lt;br&gt;
&lt;br&gt;
* These people may not be able to distinguish colors that look clearly different to most other people.
]

--
.left[
&lt;br&gt;
* We should make slight modifications in ALL visuals so they safe for color-vision deficiency
&lt;br&gt;
&lt;br&gt;
* Should also probably not color-code more than eight different items in a plot
]
--
&lt;br&gt;
.left[
The `viridis` package contains colour scales to make visually pleasing plots that are likely easier to read by those with color-vision deficiency. You can read more about the package [here](https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html)
]

.left[

```r
# Load the package - we already did so earlier in the session
library(viridis)
```
]

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot *inclusive* distributions for all athletes and both their legs?
]
--
.left[

```r
# Start with our classic template, but now add only fill mapping
ggplot(RawData, aes(Force, fill = Leg)) +
# Create a boxplot
 geom_density(alpha = 0.8) +
# Add a label for the x-axis
  xlab("\n Force (N)") +
# Add a call to the viridis palette
  scale_fill_viridis(discrete=TRUE) +
# Make the theme "classic" for ease of interpretation
  theme_classic() +
# Move our legend from the RHS of the figure to the bottom
  theme(legend.position = "bottom",
# Remove y-axis label
         axis.title.y = element_blank(),
# Add more white space between the panels
        panel.spacing = unit(1, "lines")) +
# Create a "wrap" by adding a new panel for each athlete and set the scales to "free" for the x-axis
  facet_wrap(~Athlete, scales = "free")
```
]

---
class: center, top

# Visualising Example Data (cont.)    

.left[
How do I plot *inclusive* distributions for all athletes and both their legs?
]

&lt;img src="SESNZ_Slides_files/figure-html/unnamed-chunk-9-1.png" width="936" /&gt;


---
class: center, top, blackfont
background-image: url(Images/AthsTrack.jpg)
background-size: cover
# Thank you for Listening!

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
